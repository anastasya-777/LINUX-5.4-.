# LINUX-5.4- Процессы.
## Контрольные вопросы
### 1. Для чего предназначена команда at? Как её использовать?

#### Ответ:
#### at — это утилита командной строки, которая позволяет планировать выполнение команд в определенное время. Задания, созданные с помощью at, выполняются только один раз.
#### Как использовать команду at
#### Упрощенный синтаксис команды at выглядит следующим образом: at [OPTION...] runtime.
#### Команда at берет дату и время ( runtime), когда вы хотите выполнить задание в качестве параметра командной строки, и команду, которая будет выполнена из стандартного ввода. 
#### Давайте создадим задание, которое будет выполнено в 12:00 утра:
- at 12:00
#### После того, как вы нажмете Enter, вы увидите командную строку at, которая чаще всего начинается с at>. Вы также видите предупреждение о том, что оболочка, в которой будет выполняться команда:
- warning: commands will be executed using /bin/sh
- at>
#### Введите одну или несколько команд, которые вы хотите выполнить:
- tar -xf /home/andreyex/file.tar.gz
#### Когда вы закончите ввод команд, нажмите Ctrl-D, чтобы выйти из командной строки и сохранить задание:
- at> <EOT>
- job 5 at Tue May  5 12:00:00 2020
#### Команда отобразит номер задания, время выполнения и дату.

### 2. Для чего предназначена команда batch? Как её использовать? Чем отличаются команды at и batch?
#### Ответ: batch или его псевдоним at -b, планирует задания и выполняет их в очереди пакетов, когда позволяет уровень загрузки системы. По умолчанию задания выполняются, когда средняя загрузка системы ниже 1,5. Значение загрузки может быть указано при вызове демона atd. Если средняя загрузка системы выше указанной, задания будут ждать в очереди.

#### Как использовать команду batch:
#### Чтобы создать задание batch, передайте команды, которые вы хотите выполнить: echo "command_to_be_run" | batch 
#### Чем отличаются команды at и batch?
#### Команда at используется для назначения одноразового задания на заданное время, а команда batch — для назначения одноразовых задач, которые должны выполняться, когда загрузка системы становится меньше.

### 3. Для чего предназначен демон cron?
#### Ответ: cron — классический демон (компьютерная программа в системах класса UNIX), использующийся для периодического выполнения заданий в определённое время. Регулярные действия описываются инструкциями, помещенными в файлы crontab и в специальные каталоги.
### 4. Как использовать команду crontab?
#### Ответ: Управлять cron нужно с помощью команды 'crontab'. Команда crontab -l покажет список текущих заданий, crontab -e автоматически запустит текстовый редактор и загрузит в него файл конфигурации cron. После выхода из редактора, новая конфигурация cron будет установлена (вступит в силу) автоматически.
#### Рассмотрим пример создания файла crontab для пользователя user ,домашняя директория /home/user
#### Задача: запускать каждую минуту файл /home/user/mail, который будет отправлять почту.
  
 -   #содержимое файла mail (файл должен быть с правами на запуск! например -rwxr-xr-x)
 -   #!/bin/bash
 -   mess="test cron"
 -   echo "$mess" |mutt -s "subj" -m application/octet-stream buba@server.ru

1. Создаем временный файл /home/user/test содержимое файла test такое:
   SHELL=/bin/bash
   MAILTO=user
   0-59 * * * * /home/user/mail

2. Запускаем в терминале команду crontab /home/user/test
#### Все. После этого в каталоге /var/spool/cron будет создан файл "user" примерно с таким содержимым
 -  #DO NOT EDIT THIS FILE - edit the master and reinstall.
 -  #(/home/user/test installed on Mon Mar 29 02:31:34 2004)
 -  #(Cron version -- $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp $)
  - SHELL=/bin/bash
 -  MAILTO=user
 -  0-59 * * * * /home/user/mail
#### и файл /home/user/mail будет запускаться демоном cron каждую минуту.
#### Доступ в каталог /var/spool/cron непривилегированному пользователю закрыт, чтобы посмотреть юзером "user" есть ли у него файл crontab ,достаточно набрать команду crontab -l , если файл существует-будет показано его содержимое.
#### Для удаления файла используется команда crontab -r
#### Для редактирования crontab -e
#### Для управления файлами crontab пользователем "root" используется синтаксис:crontab -u user_name file -создание файла crontab из файла"file" для юзера"user_name"
- -u означает чей crontab будет обработан, Если опция не задана, то будет обработан crontab того пользователя, который запустил команду crontab.
- crontab -u user_name -l -просмотр файла crontab юзера"user_name"
- crontab -u user_name -r -удаление файла crontab юзера"user_name"
- crontab -u user_name -e -редактирование файла crontab юзера "user_name" используя редактор, заданный переменной окружения VISUAL или EDITOR.
### 5. Что такое сигналы?
#### Ответ: Сигнал в операционных системах семейства Unix — асинхронное уведомление процесса о каком-либо событии, один из основных способов взаимодействия между процессами.
### 6. Как с помощью команды kill посылать сигналы процессам?
#### Ответ: Программа kill используется для управления работающими процессами по их PID, с помощью отправки им управляющих сигналов. Пользователь root, может управлять любыми процессами, в том числе и процессами других пользователей. Если не указано символическое имя или номер сигнала, отправляется сигнал TERM. Возможны следующие опции:
- kill [-s имя_сигнала] pid ...
- kill -l [код_завершения]
- kill -имя_сигнала pid …
- kill -номер_сигнала pid …
- -s имя_сигнала - данная опция позволяет отправить сигнал процессу, используя его символическое имя. По-умолчанию отправляется сигнал TERM. На самом деле, эту опцию можно опускать, устанавливая только знак "-" перед именем или номером сигнала, например: -HUP или -1.
- -l [код_завершения]- без указания операнда, выведет имена сигналов. Иначе, покажет имя сигнала, соответствующего указанному коду_завершения.
- -имя_сигнала - указать символическое имя сигнала, для отправки процессу.
- -номер_сигнала - указать сигнал по его числовому значению (только положительное число).
#### Следующие PID имеют специальное значение.
- -1- при выполнении пользователем root, отправляет сигнал всем процессам, иначе всем процессам принадлежащим данному пользователю.
#### Самые часто-используемые сигналы:
- 1 - HUP (hang up) - отбой
- 2 - INT (interrupt) - прерывание
- 3 QUIT (quit) - выход
- 6 ABORT (abort) - аварийное завершение
- 9 KILL (non-catchable, non-ignorable kill) - безусловное уничтожение
- 14 ALARM (alarm clock) - будильник
- 15 TERM (software termination signal) - программное завершение
### 7. Для чего предназначены команды nice и renice?
#### Ответ: 
- nice - изменяет приоритет процесса перед его запуском.
- renice - изменяет приоритет работающего процесса.
### 8. Как использовать команду ps?
#### Использование команды ps
- -A, -e, (a) - выбрать все процессы;
- -a - выбрать все процессы, кроме фоновых;
- -d, (g) - выбрать все процессы, даже фоновые, кроме процессов сессий;
- -N - выбрать все процессы кроме указанных;
- -С - выбирать процессы по имени команды;
- -G - выбрать процессы по ID группы;
- -p, (p) - выбрать процессы PID;
- --ppid - выбрать процессы по PID родительского процесса;
- -s - выбрать процессы по ID сессии;
- -t, (t) - выбрать процессы по tty;
- -u, (U) - выбрать процессы пользователя.
#### Вы можете вывести определенные процессы с помощью ps с помощью различных критериев выбора.Например, если вы знаете идентификатор процесса PID, вы можете просто использовать следующую команду:
- ps -p <pid>
#### Вы можете выбрать несколько процессов, указав несколько идентификаторов процесса следующим образом:
- ps -p "<pid1> <pid2>"
### 9. Для чего предназначена команда top и как ее использовать?
#### Ответ: команда top в Linux системах позволяет вывести в виде таблицы перечень запущенных процессов и оценить, какой объем ресурсов они потребляют, т. е., какую нагрузку создают на сервер и дисковую подсистему. Такая информация помогает в дальнейшем оптимизировать работу системы.
#### Использование команды top:
#### Одной из наиболее частых причин использования такого инструмента top является выяснение того, какой процесс потребляет большинство ресурсов. Вы можете нажать следующие клавиши, чтобы отсортировать список:
- – Shift + N – сортировка по PID;
- – Shift + A – сортировать процессы по возрасту;
- – Shift + P – сортировать процессы по использованию ЦПУ;
- – Shift + M – сортировать процессы по использованию памяти;
- – Shift + T – сортировка по времени выполнения.
#### По умолчанию результаты отображаются в порядке убывания, однако вы можете отсортировать в порядке возрастания, нажав R.
### 10. Как использовать команду w?
#### Ответ:
#### w - выводит краткую сводку о работающих в системе в данный момент пользователях (залогиненных пользователях), а также о том, какие процессы у них запущены.
#### Синтаксис: w опции имя_пользователя
#### Если указано имя_пользователя, то выводится информация только для данного пользователя.
#### Опции: 
- -h или --no-header - Не выводить заголовок у таблицы.
- -u или --no-current - Игнорировать имена пользователей при определении времени текущего процесса и времени CPU.
- -s или --short - Использовать сокращенный формат вывода. Не выводить колонки JCPU и PCPU.
- -f или --from - Включить или выключить вывод поля from, которое соответствует имени удаленного хоста (remote hostname). В зависимости от дистрибутива Linux (версии утилиты w), поле from может выводиться или не выводиться по умолчанию.
- -i или --ip-addr - Выводить в поле from IP-адрес вместо имени хоста (hostname), если это возможно.
- -o или --old-style - Выводить информацию в старом формате. Время, которое меньше 1 минуты, не выводится.
- --version - Вывести версию утилиты w.

[Ссылка на таблицы](https://docs.google.com/spreadsheets/d/1QOyXQPYGKD1Bec7uHQpLyg6iqr_DKHHJZgQbMOSoguc/edit?usp=sharing)
